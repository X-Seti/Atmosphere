/*
 * AtmosphericConfig.qml - Configuration interface for atmospheric effects
 * Add this to your widget's configuration pages
 */
import QtQuick 2.15
import QtQuick.Controls 2.15
import QtQuick.Layouts 1.15
import org.kde.kirigami 2.15 as Kirigami

Kirigami.FormLayout {
    id: atmosphericConfigPage

    property alias cfg_atmosphericEffectsEnabled: atmosphericEffectsEnabled.checked
    property alias cfg_particleEffectsEnabled: particleEffectsEnabled.checked
    property alias cfg_dynamicWallpaperEnabled: dynamicWallpaperEnabled.checked
    property alias cfg_soundEffectsEnabled: soundEffectsEnabled.checked
    property alias cfg_feelsLikeTooltipEnabled: feelsLikeTooltipEnabled.checked
    
    property alias cfg_morningWallpaper: morningWallpaperField.text
    property alias cfg_afternoonWallpaper: afternoonWallpaperField.text
    property alias cfg_eveningWallpaper: eveningWallpaperField.text
    property alias cfg_nightWallpaper: nightWallpaperField.text

    CheckBox {
        id: atmosphericEffectsEnabled
        text: i18n("Enable Atmospheric Effects")
        checked: true
        Kirigami.FormData.label: i18n("General:")
    }

    CheckBox {
        id: particleEffectsEnabled
        text: i18n("Weather Particles (Rain/Snow)")
        checked: true
        enabled: atmosphericEffectsEnabled.checked
        Kirigami.FormData.label: i18n("Visual Effects:")
    }

    CheckBox {
        id: dynamicWallpaperEnabled
        text: i18n("Dynamic Wallpaper Changes")
        checked: false
        enabled: atmosphericEffectsEnabled.checked
        Kirigami.FormData.label: i18n("Wallpaper:")
    }

    CheckBox {
        id: soundEffectsEnabled
        text: i18n("Atmospheric Sound Effects")
        checked: false
        enabled: atmosphericEffectsEnabled.checked
        Kirigami.FormData.label: i18n("Audio:")
    }

    CheckBox {
        id: feelsLikeTooltipEnabled
        text: i18n("Enhanced 'Feels Like' Tooltips")
        checked: true
        enabled: atmosphericEffectsEnabled.checked
        Kirigami.FormData.label: i18n("Interactions:")
    }

    Kirigami.Separator {
        Kirigami.FormData.isSection: true
        Kirigami.FormData.label: i18n("Wallpaper Paths")
        visible: dynamicWallpaperEnabled.checked
    }

    TextField {
        id: morningWallpaperField
        text: "/home/x2/Wallpapers/System-Defaults/fruitdark.jpg"
        placeholderText: i18n("Path to morning wallpaper")
        visible: dynamicWallpaperEnabled.checked
        Kirigami.FormData.label: i18n("Morning (6-12h):")
        
        Button {
            anchors.right: parent.right
            anchors.rightMargin: 5
            anchors.verticalCenter: parent.verticalCenter
            text: "..."
            onClicked: {
                // File dialog would go here
                console.log("Open file dialog for morning wallpaper")
            }
        }
    }

    TextField {
        id: afternoonWallpaperField
        text: "/home/x2/Wallpapers/System-Defaults/fruit.jpg"
        placeholderText: i18n("Path to afternoon wallpaper")
        visible: dynamicWallpaperEnabled.checked
        Kirigami.FormData.label: i18n("Afternoon (12-17h):")
        
        Button {
            anchors.right: parent.right
            anchors.rightMargin: 5
            anchors.verticalCenter: parent.verticalCenter
            text: "..."
            onClicked: {
                console.log("Open file dialog for afternoon wallpaper")
            }
        }
    }

    TextField {
        id: eveningWallpaperField
        text: "/home/x2/Wallpapers/System-Defaults/fruitdarker.jpg"
        placeholderText: i18n("Path to evening wallpaper")
        visible: dynamicWallpaperEnabled.checked
        Kirigami.FormData.label: i18n("Evening (17-20h):")
        
        Button {
            anchors.right: parent.right
            anchors.rightMargin: 5
            anchors.verticalCenter: parent.verticalCenter
            text: "..."
            onClicked: {
                console.log("Open file dialog for evening wallpaper")
            }
        }
    }

    TextField {
        id: nightWallpaperField
        text: "/home/x2/Wallpapers/System-Defaults/fruitdarkest.jpg"
        placeholderText: i18n("Path to night wallpaper")
        visible: dynamicWallpaperEnabled.checked
        Kirigami.FormData.label: i18n("Night (20-6h):")
        
        Button {
            anchors.right: parent.right
            anchors.rightMargin: 5
            anchors.verticalCenter: parent.verticalCenter
            text: "..."
            onClicked: {
                console.log("Open file dialog for night wallpaper")
            }
        }
    }

    Label {
        text: i18n("Note: Dynamic wallpaper requires appropriate permissions and may affect system performance.")
        font.pointSize: Kirigami.Theme.smallFont.pointSize
        color: Kirigami.Theme.disabledTextColor
        wrapMode: Text.WordWrap
        visible: dynamicWallpaperEnabled.checked
        Kirigami.FormData.label: i18n("Warning:")
    }

    Button {
        text: i18n("Test Atmospheric Effects")
        enabled: atmosphericEffectsEnabled.checked
        Kirigami.FormData.label: i18n("Testing:")
        onClicked: {
            console.log("Testing atmospheric effects...")
            // Trigger a test of the effects
        }
    }
}